import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.Scanner;

public class Producto {
    public static void crearTabla(Connection conexion) throws SQLException {
        Statement stmt = conexion.createStatement();
        String sql = "CREATE TABLE IF NOT EXISTS Producto ("
                + "id_producto INT AUTO_INCREMENT PRIMARY KEY, "
                + "nombre VARCHAR(100), "
                + "precio DOUBLE, "
                + "stock INT)";
        stmt.executeUpdate(sql);
        stmt.close();
    }

    public static void mostrarProductos(Connection conexion) throws SQLException {
        Statement stmt = conexion.createStatement();
        ResultSet rs = stmt.executeQuery("SELECT * FROM Producto");

        System.out.println("\n=== LISTADO DE PRODUCTOS ===");
        while (rs.next()) {
            System.out.printf("%d | %s | %.2f | %d%n",
                    rs.getInt("id_producto"),
                    rs.getString("nombre"),
                    rs.getDouble("precio"),
                    rs.getInt("stock"));
        }
        rs.close();
        stmt.close();
    }

    public static void insertarProducto(Connection conexion) throws SQLException {
        Scanner sc = new Scanner(System.in);
        System.out.print("Nombre del producto: ");
        String nombre = sc.nextLine();
        System.out.print("Precio: ");
        double precio = sc.nextDouble();
        System.out.print("Stock: ");
        int stock = sc.nextInt();

        Statement stmt = conexion.createStatement();
        String sql = "INSERT INTO Producto (nombre, precio, stock) VALUES ('" + nombre + "', " + precio + ", " + stock + ")";
        stmt.executeUpdate(sql);
        stmt.close();
        System.out.println("Producto agregado con Ã©xito.");
    }
}
