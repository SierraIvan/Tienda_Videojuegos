package main;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.Statement;
import java.sql.SQLException;
import java.util.Scanner;

public class Main {
    private static final String URL = "jdbc:mysql://localhost:3306/tiendavideojuegos?serverTimezone=UTC";
    private static final String USER = "root";
    private static final String PASS = "root";
    
    
    public static void main(String[] args) {
        try {
            Connection conexion = DriverManager.getConnection(URL, USER, PASS);
            
            System.out.println("Conexión establecida con éxito");
            Scanner sc = new Scanner(System.in);
            
            
            
            int opcion = 1;
            while(opcion != 0) {
            	System.out.println("0- Salir\n1- Actualizar Datos");
            	opcion = sc.nextInt();
            	
            switch(opcion) {
            case 0:
            	System.out.println("Saliendo...");
            	break;
            case 1:
            	
            }
            
            	
            	
            }
            
            
         
            ActualizarTablaProducto(conexion);
            
            conexion.close();
            System.out.println("Conexión cerrada");
            
        } catch (SQLException e) {
            System.out.println("Error: " + e.getMessage());
            e.printStackTrace();
        }
    } 
    
    private static void CrearTablaProducto(Connection conexion) throws SQLException {
        Statement stmt = conexion.createStatement();
        
        String createTableSQL = "CREATE TABLE IF NOT EXISTS Producto ("
            + "id_producto INT AUTO_INCREMENT PRIMARY KEY,"
            + "nombre VARCHAR(50) NOT NULL,"
            + "precio DECIMAL(4,2),"
            + "stock INT"
            + ")";
        
        stmt.executeUpdate(createTableSQL);
        System.out.println("Tabla producto creada correctamente");
        
        stmt.close();
    }
    
    private static void CrearTablaProveedores(Connection conexion) throws SQLException {
        Statement stmt = conexion.createStatement();
        
        String createTableSQL = "CREATE TABLE IF NOT EXISTS Proveedores ("
            + "id_proveedor INT AUTO_INCREMENT PRIMARY KEY,"
            + "nombre VARCHAR(30) NOT NULL,"
            + "contacto VARCHAR(50),"
            + "direccion VARCHAR(50)"
            + ")";
        
        stmt.executeUpdate(createTableSQL);
        System.out.println("Tabla proveedores creada correctamente");
        
        stmt.close();
    }
    
    private static void CrearTablaClientes(Connection conexion) throws SQLException {
        Statement stmt = conexion.createStatement();
        
        String createTableSQL = "CREATE TABLE IF NOT EXISTS Clientes ("
            + "id_cliente INT AUTO_INCREMENT PRIMARY KEY,"
            + "nombre VARCHAR(30) NOT NULL,"
            + "telefono INT,"
            + "email VARCHAR(50)"
            + ")";
        
        stmt.executeUpdate(createTableSQL);
        System.out.println("Tabla clientes creada correctamente");
        
        stmt.close();
    }
    
    private static void CrearTablaPersonal(Connection conexion) throws SQLException {
        Statement stmt = conexion.createStatement();
        
        String createTableSQL = "CREATE TABLE IF NOT EXISTS Personal ("
            + "id_personal INT AUTO_INCREMENT PRIMARY KEY,"
            + "nombre VARCHAR(30) NOT NULL,"
            + "rol ENUM('administrador', 'empleado')"
            + ")";
        
        stmt.executeUpdate(createTableSQL);
        System.out.println("Tabla personal creada correctamente");
        
        stmt.close();
    }
    
    
    
    public static void ActualizarTablaProducto(Connection conexion) throws SQLException {
        Statement stmt = conexion.createStatement();
        Scanner sc = new Scanner(System.in);

        System.out.println("Introduce el nombre:");
        String nombre = sc.nextLine();

        System.out.println("Introduce el precio:");
        Double precio = sc.nextDouble();

        System.out.println("Introduce el stock:");
        int stock = sc.nextInt();


        String añadir = "INSERT INTO producto(nombre, precio, stock) VALUES ('" 
                        + nombre + "', " + precio + ", " + stock + ")";


        stmt.executeUpdate(añadir);

        System.out.println("Producto añadido correctamente.");
    }

}
